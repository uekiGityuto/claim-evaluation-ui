<header>
  <span>{{ userId }}</span>
</header>
<article>
  <div class="list-header">
    <form [(formGroup)]="searchControl">
      <mat-form-field>
        <input type="text" matInput matType="text" formControlName="claimNumber" placeholder="受付番号">
      </mat-form-field>
      <mat-form-field>
        <mat-select formControlName="claimCategory" placeholder="事案カテゴリ" multiple>
          <!-- <mat-option value=""></mat-option> -->
          <mat-option value="高">高</mat-option>
          <mat-option value="中">中</mat-option>
          <mat-option value="低">低</mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field>
        <mat-select formControlName="insuranceKindInfo" placeholder="保険種類" multiple>
          <!-- <mat-option value=""></mat-option> -->
          <mat-option value="自動車">自動車</mat-option>
          <mat-option value="火災">火災</mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field>
        <input matInput [matDatepicker]="pickerFrom" placeholder="事故日from" formControlName="fromLossDate">
        <mat-datepicker-toggle matSuffix [for]="pickerFrom"></mat-datepicker-toggle>
        <mat-datepicker #pickerFrom></mat-datepicker>
      </mat-form-field>
      <div class="upper-lower-center">
        <span>～</span>
      </div>
      <mat-form-field>
        <input matInput [matDatepicker]="pickerTo" placeholder="事故日to" formControlName="toLossDate">
        <mat-datepicker-toggle matSuffix [for]="pickerTo"></mat-datepicker-toggle>
        <mat-datepicker #pickerTo></mat-datepicker>
      </mat-form-field>
      <mat-form-field>
        <input type="text" matInput matType="text" formControlName="insuredNameKana" placeholder="被保険者名（カナ）">
      </mat-form-field>
      <mat-form-field>
        <input type="text" matInput matType="text" formControlName="insuredNameKanji" placeholder="被保険者名（漢字）">
      </mat-form-field>
      <mat-form-field>
        <input type="text" matInput matType="text" formControlName="contractorNameKana" placeholder="契約者名（カナ）">
      </mat-form-field>
      <mat-form-field>
        <input type="text" matInput matType="text" formControlName="contractorNameKanji" placeholder="契約者名（漢字）">
      </mat-form-field>
      <div>
        <mat-radio-group formControlName="departmentOrBaseRadio">
          <mat-radio-button value="department">担当部</mat-radio-button>
          <mat-radio-button value="base">担当拠点</mat-radio-button>
        </mat-radio-group>
        <mat-form-field>
          <input type="text" matInput matType="text" formControlName="departmentOrBase" placeholder="担当部・担当拠点">
        </mat-form-field>
      </div>
      <button mat-raised-button color="primary" (click)="search()">検索</button>
    </form>
  </div>

  <div *ngIf="claims.length != 0">
    <mat-card id=list>
      <table matSort (matSortChange)="listSort($event)">
        <tr>
          <th mat-sort-header="claimNumber">受付番号</th>
          <th mat-sort-header="insuredName">被保険者名</th>
          <th mat-sort-header="contractorName">契約者名</th>
          <th mat-sort-header="department">担当部</th>
          <th mat-sort-header="base">担当拠点</th>
          <th mat-sort-header="insuranceKind">保険種類</th>
          <th mat-sort-header="lastUpdateDate">最終更新日</th>
          <th mat-sort-header="lossDate">事故日</th>
          <th mat-sort-header="claimCategory">事案カテゴリ</th>
        </tr>
        <tr *ngFor="let claim of claims">
          <td><a [routerLink]="['/detail', claim.claimNumber]">{{ claim.claimNumber }}</a></td>
          <td>{{ claim.insuredName }}</td>
          <td>{{ claim.contractorName }}</td>
          <td>{{ claim.department }}</td>
          <td>{{ claim.base }}</td>
          <td>{{ claim.insuranceKind }}</td>
          <td>{{ claim.lastUpdateDate }}</td>
          <td>{{ claim.lossDate }}</td>
          <td><span class="claim-category-high">{{ claim.claimCategory }}</span></td>
        </tr>
      </table>
    </mat-card>
    <div class="pager">
      <button mat-icon-button (click)="previous()">
        <mat-icon>arrow_back_ios</mat-icon>
      </button>
      <mat-form-field appearance="outline" style="width: 32px">
        <input matInput [value]="fromPages">
      </mat-form-field>
      ～　{{ toPages }}　/　{{ totalNumber }}
      <button mat-icon-button>
        <mat-icon>arrow_forward_ios</mat-icon>
      </button>
      <button mat-icon-button (click)="update()">
        <mat-icon>refresh</mat-icon>
      </button>
    </div>
  </div>
</article>
