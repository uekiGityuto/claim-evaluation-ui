<header>
  <button *ngIf="authFlag" mat-icon-button (click)="displayList()">
    <mat-icon>view_list</mat-icon>
  </button>
  <span>{{ userId }}</span>
</header>
<article>
  <div class="detail-header">
    <div class="detail-header-item">
      <span>事案番号：{{ this.claimNumber }}</span>
    </div>
    <div class="detail-header-item">
      <span>被保険者名：{{ this.insuredName }}</span>
    </div>
    <div class="detail-header-item">
      <span>契約者名：</span>
      <span>{{ this.contractorName }}</span>
    </div>
    <div class="detail-header-item">
      <span>保険種類：{{ this.insurancetype }}</span>
    </div>
    <div class="detail-header-item">
      <span>事故日：{{ this.accidentDate }}</span>
    </div>
    <div class="detail-header-item">
      <span>更新日：{{ this.updateDate }}</span>
    </div>
  </div>

  <mat-card class="claim-category-card">
    <div class="claim-category-card-header">
      <span>事案カテゴリ：</span>
      <span class="claim-category-high">{{ diplayFraudScore?.claimCategory }}</span>
    </div>
    <div class="claim-category-flex">
      <div class="claim-category-time-series">
        <canvas #claimCategoryChart width="600px" height="212px" (click)="changeDate($event)"></canvas>
      </div>
      <table class="claim-category-matrix">
        <tr>
          <th></th>
          <th>High</th>
          <th>Middle</th>
          <th>Low</th>
        </tr>
        <tr>
          <th>High</th>
          <td>高</td>
          <td>高</td>
          <td>高</td>
        </tr>
        <tr>
          <th>Middle</th>
          <td>中</td>
          <td>中</td>
          <td>中</td>
        </tr>
        <tr>
          <th>Low</th>
          <td>中</td>
          <td>低</td>
          <td>低</td>
        </tr>
      </table>
    </div>

  </mat-card>

  <div class="model">
    <div *ngFor="let scoreDetail of diplayFraudScore?.scoreDetails; index as i">
      <mat-card class="model-card">
        <div class="model-header">
          <div class="model-header-item">
            <span>{{ scoreDetail.modelType }}：</span>
          </div>
          <div class="model-header-item">
            <span class="claim-category-high">{{ scoreDetail.rank }}</span>
          </div>
          <div class="model-header-item model-header-item-end">
            <span>スコア：{{ scoreDetail.score }}</span>
          </div>
        </div>
        <div class="factor">
          <div class="raise-factor">
            <div class="raise-factor-header">
              <p>上昇要因</p>
            </div>
            <div *ngFor="let reason of reasons[i].gReason">
              <p>スコア：{{ reason.reason }}</p>
              <div class="feature">
                <p class="description">{{ reason.featureName }}</p>
                <p class="featureDescription">{{ reason.featureDescription }}</p>
              </div>
            </div>
          </div>
          <div class="lower-factor">
            <div class="lower-factor-header">
              <p>減少要因</p>
            </div>
            <div *ngFor="let reason of reasons[i].rReason">
              <p>スコア：{{ reason.reason }}</p>
              <div class="feature">
                <p class="description">{{ reason.featureName }}</p>
                <p class="featureDescription">{{ reason.featureDescription }}</p>
              </div>
            </div>
          </div>
        </div>
      </mat-card>
    </div>
  </div>

</article>
