<div *ngFor="let errMsg of errMsgList; index as i" class="err-msg">
    <p>{{errMsg['key']}}: {{errMsg['value']}}</p><br>
</div>

<div class="detail-head">
    <div class="w75 flex-row t-c">
        <div class="w20 flex-column ma">
            <strong class="mb5">受付番号</strong>
            <span>{{score.claim.claimId}}</span>
        </div>
        <div class="w20 flex-column ma">
            <strong class="mb5">契約者名</strong>
            <span>{{score.claim.name}}</span>
        </div>
        <div class="w20 flex-column ma">
            <strong class="mb5">生年月日</strong>
            <span>{{score.claim.birthday | filter:'date'}}</span>
        </div>
        <div class="w20 flex-column ma">
            <strong class="mb5">種類</strong>
            <span>{{score.claim.kind}}</span>
        </div>
        <div class="w20 flex-column ma">
            <strong class="mb5">発生日</strong>
            <span>{{score.claim.occurenceDate | filter:'date'}}</span>
        </div>
    </div>
    <div class="w25 v-m t-c">
        <button>調査を終了する</button>
    </div>
</div>

<div class="detail-container">
    <div class="detail-main flex-col-between">
        <div class="title flex-between">
            <div class="w50 flex-row flex-center-v">
                <div class="ft-xxlarge">リスクスコア</div>&nbsp;<div class="icon-high"></div>&nbsp;<div class="ft-xxxlarge ft-lightbold">{{score.score}}</div>
            </div>
            <div class="flex-row flex-center-v">
                <div class="ft-xlarge">評価</div>&nbsp;
                <mat-icon id="d-icon-done" class="done-square" (click)="riskScoreFeedback($event)">done</mat-icon>
                <mat-icon id="d-icon-clear" class="clear-square" (click)="riskScoreFeedback($event)">clear</mat-icon>
            </div>
        </div>
        <div class="chart">
            Chart<br>
            Chart<br>
            Chart<br>
            Chart<br>
            Chart<br>
            Chart<br>
            Chart<br>
            Chart<br>
            Chart<br>
            Chart<br>
        </div>
        <div class="risk-list-area">
            <div class="title">
                <div class="w50 flex-row">
                    <div class="w4em">影響</div>
                    <div>↑ リスクスコアを高める要因</div>
                </div>
                <div class="w50 flex-row">
                    <div class="w4em">影響</div>
                    <div>↓ リスクスコアを低下させる要因</div>
                </div>
            </div>
            <div class="flex-row w100 mt3">
                <div class="w50">
                    <div class='flex'*ngFor="let f of rFactors; let i = index">
                        <div class='w4em pt2'>
                            <div class='crop-square-red active' *ngFor="let j of [].constructor(f.effect | filter:'abs')"></div>
                            <div class='crop-square-red' *ngFor="let j of [].constructor(3 - (f.effect | filter:'abs'))"></div>
                        </div>
                        <div class='factor ml5 pt4 w100'>
                            <span>{{f.factor}}</span>
                        </div>
                    </div>
                </div>
                <div class="w50">
                    <div class='flex'*ngFor="let f of gFactors; let i = index">
                        <div class='w4em pt2'>
                            <div class='crop-square-green active' *ngFor="let j of [].constructor(f.effect | filter:'abs')"></div>
                            <div class='crop-square-green' *ngFor="let j of [].constructor(3 - (f.effect | filter:'abs'))"></div>
                        </div>
                        <div class='factor ml5 pt4 w100'>
                            <span>{{f.factor}}</span>
                        </div>
                    </div>
                </div>
               
            </div>
            <div class="w100 v-m t-c mt5 mb5">
                <button id="btnShowAllRiskList" (click)="getAllRiskList()">全てを見る</button>
            </div>
        </div>
    </div>
    
    <div class="detail-side">
        <div class="contents-area">
            <div class="h2p5em">
                <div class="title"><strong>史</strong></div>
                <div class="filter">
                    <span class="side-memo notdeco" id="side-memo-all" (click)="filterSideMemoList('side-memo-all')">All</span>&nbsp;<span>|</span>&nbsp;
                    <span class="side-memo notdeco" id="side-memo-manual" (click)="filterSideMemoList('side-memo-manual')">使い手</span>&nbsp;<span>|</span>&nbsp;
                    <span class="side-memo notdeco" id="side-memo-auto" (click)="filterSideMemoList('side-memo-auto')">自動化</span>
                </div>
            </div>
            <form #commentForm (ngSubmit)="submitMemo(commentForm)" class="w100 h100">
                    <div class="contents flex-col-between">
                    <textarea placeholder="" name="sideMemoTxt"></textarea>
                    <button type="submit">申し出る</button>
                </div>
            </form>
            <div class="w100 p5 flex-row" *ngFor="let item of score.claim.commentList; let i = index">
                <div>
                    <mat-icon class="icon-flag m1">flag</mat-icon>
                </div>
                <div class="comment">
                    <div class="m2"><span>{{item.userName}}</span></div>
                    <textarea class="txt" readonly>{{item.comment}}</textarea>
                    <div class="m2"><span class="f-r">{{item.createDate | date:'yyyy/M/dd hh:mm'}}</span></div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="detail-foot">
        detail-foot
    </div>
</div>

<!-- icon sample code -->
<!-- <mat-icon class="star">star</mat-icon>
<mat-icon class="star active">star</mat-icon>
<div class="icon-high"></div>
<div class="icon-fiddle"></div>
<div class="icon-flag"><mat-icon>outline_flag</mat-icon></div>
<div class="icon-flag"><mat-icon class="active">outline_flag</mat-icon></div> -->
    